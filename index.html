<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airbnb Earnings Report</title>
    <script>
        function calculateRevenue() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            const reader = new FileReader();
            
            reader.onload = function(event) {
                const data = event.target.result;
                const rows = data.split('\n').slice(1);
                
                let getRevenue = 0;
                let tatRevenue = 0;

                rows.forEach(row => {
                    const columns = row.split(',');
                    if (columns.length > 1) {
                        const reservation = parseFloat(columns[13]) || 0;
                        const guestTaxes = parseFloat(columns[19]) || 0;
                        const cleaningFees = parseFloat(columns[18]) || 0;
                        
                        getRevenue += reservation + guestTaxes + cleaningFees;
                        tatRevenue += reservation + cleaningFees;
                    }
                });

                document.getElementById('getRevenue').innerText = `GET Revenue: $${getRevenue.toFixed(2)}`;
                document.getElementById('tatRevenue').innerText = `TAT Revenue: $${tatRevenue.toFixed(2)}`;
            };
            
            reader.readAsText(file);
        }
    </script>
</head>
<body>
    <h1>Airbnb Earnings Report</h1>
    <input type="file" id="fileInput" accept=".csv">
    <button onclick="calculateRevenue()">Calculate Revenue</button>
    <div id="results">
        <p id="getRevenue">GET Revenue: $0.00</p>
        <p id="tatRevenue">TAT Revenue: $0.00</p>
    </div>
</body>
</html>
